Title: 读书笔记：Web容量规划的艺术
Date: 2014-02-25
Author: youngsterxyf
Slug: read-the-art-of-capacity-planning
Tags: 笔记, 容量规划

### 第1章：容量规划的目标、问题和过程

了解你的基础设施中每一部分何时会失败（最好不发生）对容量规划至关重要。

假设你有一台数据库服务器用于响应从前端Web服务器提交过来的查询。容量规划意味着你应该知道下述问题的答案。

- 考虑到特定的硬件配置，数据库服务器每秒可管理多少个查询？
- 在性能降低到影响终端用户体验之前，它每秒可应答多少次查询？

**性能与容量：两种不同的概念**

性能调优是优化已经存在的性能。容量规划通过使用当前性能做为基线决定你的系统需要什么以及什么时候需要。

当面对容量问题的时候，试着少花精力使已存在的设备运行更快，而是关注当下要解决的重点：找出你到底需要什么，什么时候需要。

权衡对已有系统进行调优所花的人力时间，可能简简单单的买更多的硬件是正确的。在最优化和容量扩展方面的权衡是一个挑战，并且因环境而异。

> 网站的架构和架构对容量方面的影响
>
> 你的驾车风格会影响到你的车的里程，类似的原理能够应用于网站的架构上。在本书中一个反复出现的主题是你的网站架构对于如何使用、消耗
和管理容量产生重大影响。在有效使用容量上，相比于调整和改变你的服务器和网络，设计能带来更大的影响。同时，随着需求的出现如何方便和灵活
地进行增加或者减少容量，也是设计能带来的重要作用。
>
> 调整架构以便更容易容量管理。保持你的架构易于分割和分段，可以帮助你处理大量的负载特性问题---即在你创建了一个需要增长什么和何时增长的准确规划之前，
你需要解决的问题。


通过开放API所提供的Web服务引入了另一个逐渐扩大的问题，因为你的应用程序数据会被更多的应用程序访问，它们也都有自己的使用和增长模式。
这也意味着用户可以方便地滥用系统，从而将更多不确定因素放入容量公式中。API的使用情况需要监控，以观察新出现的模式。

容量规划可以变得非常重要，但是并不困难，你所需要做的只是稍微关注一下正确因素。容量规划的过程可分解为：

1. 设定你的目标
2. 收集对应的指标并找出你所面临的限制
3. 绘制趋势并根据那些指标和限制做出预测
4. 容量部署和管理


### 设定容量目标